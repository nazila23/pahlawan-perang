{% extends "sidebarpustaka.html" %}
{% block content %}
{% load static %}
  <!-- ======= Header ======= -->
    <section class="section profile">
      <div class="row">
        <div class="col-xl-12">

          <div class="card">
            <div class="card-body pt-3">
              <ul class="nav nav-tabs nav-tabs-bordered">

                <li class="nav-item">
                  <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-overview">Tambah Anggota</button>
                </li>

                <li class="nav-item">
                  <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-edit">Daftar Anggota</button>
                </li>

              </ul>
              <div class="tab-content pt-6">
                <div class="tab-content pt-6">
                  <br>
                  <div class="tab-pane fade show active profile-overview" id="profile-overview">
                  <!-- <div class="row mb-3">
                    <label for="id" class="col-md-4 col-lg-3 col-form-label">ID Anggota</label>
                    <div class="col-md-8 col-lg-9">
                      <input name="id" type="text" class="form-control" id="id" >
                    </div>
                  </div> -->

                <form method="post" action="">
                  {% csrf_token %}
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Nama</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="text" name="nama">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Tanggal Lahir</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="date" name="tl">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Jenis Kelamin</label>
                    </div>
                    <div class="col">
                      <select class="form-select" name="jenisk" aria-label="Default select example">
                        <option selected>Pilih</option>
                        <option value="Perempuan">Perempuan</option>
                        <option value="Laki-Laki">Laki-Laki</option>
                      </select>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Anggota_sejak</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="date" name="as">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Tanggal_registrasi</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="date" name="tr">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Berlaku_hingga</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="date" name="bg">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Tipe_anggota</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="text" name="tk">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Pekerjaan</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="text" name="pekerjaan">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Alamat</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="text" name="almt">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Negara</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="text" name="negara">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">No. HP</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="number" name="hp">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Email</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="text" name="email">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <label class="mt-1">Instansi</label>
                    </div>                    
                    <div class="col">
                      <input class="form-control" type="text" name="ins">
                    </div>
                  </div>

                  <br>
                  <div class="row mb-3">
                    <div class="col-sm-12">
                      <button type="submit" class="btn btn-primary">Submit Form</button>
                    </div>
                  </div>
                </form>  
              </div>
              <div class="tab-pane fade profile-edit pt-3" id="profile-edit">
                    <table class="table">
                      <thead>
                      <tr>
                        <th scope="col">No</th>
                        <th scope="col">Nama</th>
                        <th scope="col">Anggota Sejak</th>
                        <th scope="col">Berlaku Hingga</th>
                        <th scope="col">Instansi</th>
                        <th></th>
                      </tr>
                    </thead>  
                    <tbody>
                           
                      {% for z in data %} 
                      <tr>
                        <td>{{forloop.counter}}</td>
                        <td>{{z.nama}}</td>
                        <td>{{z.anggota_sejak}}</td>
                        <td>{{z.berlaku_hingga}}</td>
                        <td>{{z.instansi}}</td>
                        <td>
                          <a type="button" class="btn btn-success" href="{{z.id}}/delete_anggota">Delete</a>
                          <a href="#" data-bs-toggle="modal" class="btn btn-success" data-bs-target="#exampledetail">Detail</a>
                      </td>
                      </tr>
                      {% endfor %}     
                    </tbody>                
                  </table>
              </div>   
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </section>
  <!-- End #main -->

  <!-- Modal detail -->
	<div class="modal fade" id="exampledetail" tabindex="-1" aria-labelledby="exampledetailLabel" aria-hidden="true">
		<div class="modal-dialog">
		  <div class="modal-content">
			<div style="
      text-align: center;
        color: black;
        margin-top: 5%;
      ">
			  <h5 >Detail</h5>
			</div>
			<div class="modal-body">
            <form method="post" action="">
              {% for z in data %} 
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Nama</label>
                </div>:                    
                <div class="col">
                  {{z.nama}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Tanggal Lahir</label>
                </div>:                    
                <div class="col">
                  {{z.tanggal_lahir}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Jenis Kelamin</label>
                </div>:
                <div class="col">
                  {{z.jenis_kelamin}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Anggota Sejak</label>
                </div>:                    
                <div class="col">
                  {{z.anggota_sejak}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Tanggal Registrasi</label>
                </div>:                    
                <div class="col">
                  {{z.tanggal_registrasi}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Berlaku Hingga</label>
                </div>:                
                <div class="col">
                  {{z.berlaku_hingga}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Tipe Anggota</label>
                </div>:                    
                <div class="col">
                  {{z.tipe_anggota}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Pekerjaan</label>
                </div>:                    
                <div class="col">
                  {{z.pekerjaan}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Alamat</label>
                </div>:                    
                <div class="col">
                  {{z.alamat}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Negara</label>
                </div>:                    
                <div class="col">
                  {{z.negara}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">No. HP</label>
                </div>:                    
                <div class="col">
                  {{z.no_hp}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Email</label>
                </div>:                    
                <div class="col">
                  {{z.email}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label class="mt-1">Instansi</label>
                </div>:                    
                <div class="col">
                  {{z.instansi}}
                </div>
              </div>
              {% endfor %}  
              <br>
              <div class="row mb-3">
                <div class="col-sm-12">
                  <!-- <a href="#" data-bs-toggle="modal" class="btn btn-success" data-bs-target="#exampleedit">Edit</a> -->
                  <a type="button" data-bs-toggle="modal" data-bs-target="#exampleedit" class="btn btn-success" href="{{z.id}}/delete_anggota">Edit</a>
                </div>
              </div>
            </form>  
         </div>
				</div>
			</div>
		</div>
     <!-- Modal Edit -->
	<div class="modal fade" id="exampleedit" tabindex="-1" aria-labelledby="exampleeditLabel" aria-hidden="true">
		<div class="modal-dialog">
		  <div class="modal-content">
			<div style="
      text-align: center;
        color: black;
        margin-top: 5%;
      ">
			  <h5 >Form Edit</h5>
			</div>
        <div class= "form">
          {% for d in data %}
          <form class="col-8" method="POST" action="/main2/anggota/{{d.id}}/edit_anggota/">
                {% csrf_token %} 
                <br>
                <input type="text" class="form-control" name="nama" value="{{d.nama}}" class = "form-control">
                <input type="date" class="form-control" name="tanggal_lahir"value="{{d.tanggal_lahir}}" class = "form-control">
                <input type="text" class="form-control" name="jenis_kelamin" value="{{d.jenis_kelamin}}" class = "form-control">
                <input type="date" class="form-control" name="anggota_sejak"value="{{d.anggota_sejak}}" class = "form-control">
                <input type="date" class="form-control" name="tanggal_registrasi"value="{{d.tanggal_registrasi}}" class = "form-control">
                <input type="date" class="form-control" name="berlaku_hingga"value="{{d.berlaku_hingga}}" class = "form-control">
                <input type="text" class="form-control" name="tipe_anggota"value="{{d.tipe_anggota}}" class = "form-control">
                <input type="text" class="form-control" name="pekerjaan"value="{{d.pekerjaan}}" class = "form-control">
                <input type="text" class="form-control" name="alamat"value="{{d.alamat}}" class = "form-control">
                <input type="text" class="form-control" name="negara"value="{{d.negara}}" class = "form-control">
                <input type="number" class="form-control" name="no_hp"value="{{d.no_hp}}" class = "form-control">
                <input type="text" class="form-control" name="email"value="{{d.email}}" class = "form-control">
                <input type="text" class="form-control" name="instansi"value="{{d.instansi}}" class = "form-control">
                <br>
                <button type="submit" class="btn btn-success">Simpan</button>
              </form>
              {% endfor %}
            </div>
			</div>
		</div>
	</div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
{% endblock %}